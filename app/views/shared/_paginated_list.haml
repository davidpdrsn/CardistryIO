%ul.object-list
  - page.each do |object|
    = render partial: "list_item", locals: { object: object }

- path = ->(options) { polymorphic_path([:all, page.detect { true }.class], options) }

%div.pagination-container
  %ul.pagination.with-shadow
    - if page.more_previous_pages?
      %li.pagination-nav-button.back
        = link_to "<i class='icon ion-ios-arrow-back'></i>".html_safe, root_path(page: page.previous_page)
    - else
      %li.pagination-nav-button.back.disabled
        %i.icon.ion-ios-arrow-back

    %li.pagination-text
      Page #{page.current_page} of #{page.number_of_pages}

    - if page.more_pages?
      %li.pagination-nav-button.forward
        = link_to "<i class='icon ion-ios-arrow-forward'></i>".html_safe, root_path(page: page.next_page)
    - else
      %li.pagination-nav-button.forward.disabled
        %i.icon.ion-ios-arrow-forward
